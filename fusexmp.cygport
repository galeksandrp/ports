# package name
NAME="fusexmp"
VERSION=1.1.0
RELEASE=1

# .hint generation
CATEGORY="system"
SUMMARY="User mode file system library for windows with FUSE Wrapper"
DESCRIPTION="When you want to create a new file system on Windows, other than FAT or NTFS, you need to develop a file system driver. Developing a device driver that works in kernel mode on windows is extremely technical. By using Dokan, you can create your own file systems very easily without writing device drivers. Dokan is similar to FUSE (Linux file system in user space) but works on Windows. Moreover, dokany includes a FUSE wrapper that helps you to port your FUSE filesystems without changes."

# source and patch files
SRC_URI="https://github.com/dokan-dev/dokany/archive/v${VERSION}.tar.gz"
SRC_DIR="dokany-${VERSION}/samples/fuse_mirror"

src_compile() {
	gcc fusexmp.c -D_FILE_OFFSET_BITS=64 -L. -ldokanfuse1 -o fuxexmp.exe
}

src_install() {
	install -dm 755 ${D}/usr/bin
	install -m 755 fuxexmp.exe ${D}/usr/bin/fuxexmp.exe
}
